{% from "components/navbar.html.jinja" import navbar %}
{% from "components/footer.html.jinja" import footer %}
{% from "components/notification.html.jinja" import notification %}

<!DOCTYPE html>
<html lang="fr">

<head>
    {% block header %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }} | Le bar de la Tani√®re</title>
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/inputs.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/buttons.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/cards.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/navbar.css') }}">
    {% endblock %}
</head>

<body>
    <!-- Show notifications -->
    {% with messages = get_flashed_messages(with_categories = true) %}
        {% if messages %}
            <div class="notifications">
            {% for category, message in messages %}
                {{ notification(category, message)|safe() }}
            {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <div class="header">
        <h2>{{ page_title }}</h2>
    </div>

    {{ navbar(page_title)|safe }}

    <div class="content">
        {% block content %}
        {% endblock %}
    </div>

    {{ footer()|safe }}

    <script src="{{ url_for('static', filename = 'utils.js') }}"></script>
    <script src="https://kit.fontawesome.com/f64f9053f0.js" crossorigin="anonymous"></script>

</body>

<script>
    window.onload = function() {
        footer = document.querySelector(".footer");
        footerHeight = footer.offsetHeight;
        body = document.querySelector("body");
        style = window.getComputedStyle(document.body);
        defaultSpace = parseInt(style.getPropertyValue('--default-spacing').match(/\d+/)[0]);
        body.style.paddingBottom = `${footerHeight + defaultSpace}px`;
    }
</script>

</html>